/
├─ index.html
├─ success.html
├─ package.json
├─ vercel.json
├─ .gitignore
└─ api/
   ├─ create-checkout.js
   ├─ link-session.js
   ├─ stripe-webhook.js
   └─ check-access.js

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>NovaMark AI — Your 24/7 Marketing Co-Pilot</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="AI marketing advisor that builds strategies, ad copy, budgets, and growth plans in minutes." />
  <link rel="icon" href="favicon.ico" />
  <style>
    :root{
      --bg:#070b14; --panel:#0d1428; --soft:#111a33; --line:#1e2a4a;
      --txt:#eef2ff; --muted:#a5b4d6; --brand:#6c7cff; --brand-2:#22d3ee; --ok:#22c55e;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:radial-gradient(1200px 600px at 20% -10%, #13214a33, transparent), var(--bg); color:var(--txt); font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    nav{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,#070b1499,#070b1400);backdrop-filter:blur(8px);border-bottom:1px solid #ffffff12}
    .nav-inner{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;font-size:18px}
    .brand .logo{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,var(--brand),var(--brand-2));box-shadow:0 0 40px #6c7cff55}
    .nav-cta a{display:inline-block;padding:10px 14px;border:1px solid var(--line);border-radius:12px;background:linear-gradient(180deg,#0f1832,#0a1226);font-weight:600}
    .nav-cta a.primary{border-color:#6c7cff55;background:linear-gradient(180deg,#5865f2,#4553e2);box-shadow:0 8px 24px #5865f244}
    .hero{padding:76px 0 40px}
    .grid-2{display:grid;grid-template-columns:1.2fr 1fr;gap:32px}
    .badge{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border-radius:999px;border:1px solid #6c7cff44;background:#0b1220aa;font-size:12px}
    .h1{font-size:40px;line-height:1.1;margin:14px 0 10px;font-weight:900;letter-spacing:-.02em}
    .lead{font-size:16px;color:var(--muted);max-width:640px}
    .hero-ctas{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:12px;border:1px solid var(--line);background:linear-gradient(180deg,#121a36,#0b1226);font-weight:700;cursor:pointer}
    .btn.primary{border-color:#6c7cff77;background:linear-gradient(180deg,#6c7cff,#5563f2);box-shadow:0 10px 30px #6c7cff33}
    .meta{font-size:12px;color:var(--muted);margin-top:10px}
    .panel{background:linear-gradient(180deg,#0d1428,#0a1122);border:1px solid var(--line);border-radius:16px;padding:16px}
    .hero-card{min-height:280px;display:grid;gap:10px}
    .pill{font-size:12px;border:1px solid #2a3866;border-radius:999px;padding:6px 10px;display:inline-flex;gap:8px;align-items:center}
    .list{display:grid;gap:10px;font-size:14px}
    .li{display:flex;gap:10px;align-items:flex-start}
    .li .dot{width:8px;height:8px;border-radius:50%;background:var(--brand-2);margin-top:6px;box-shadow:0 0 12px #22d3eeaa}
    section{padding:54px 0;border-top:1px solid #ffffff0f}
    h2{font-size:28px;margin:0 0 8px}
    .sub{color:var(--muted);max-width:720px;margin-bottom:22px}
    .features{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .card{background:linear-gradient(180deg,#0e1530,#0b1326);border:1px solid var(--line);border-radius:16px;padding:18px}
    .pricing{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .price-card{background:linear-gradient(180deg,#0e1530,#0b1326);border:1px solid var(--line);border-radius:18px;padding:20px;position:relative}
    .price{font-size:36px;font-weight:900;margin:6px 0}
    .tag{position:absolute;top:12px;right:12px;font-size:12px;border:1px solid #6c7cff66;border-radius:999px;padding:4px 8px;background:#111a33}
    .ul{display:grid;gap:10px;margin:12px 0}
    .ul .ok{color:var(--ok)} .ul .no{color:#ef4444}
    .faq{display:grid;gap:10px}
    details{background:#0c142b;border:1px solid #1e2a4a;border-radius:12px;padding:14px}
    summary{cursor:pointer;font-weight:700}
    footer{padding:24px 0;color:var(--muted)}
    .foot{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px}
    #aiBubble{position:fixed;right:20px;bottom:20px;width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#5865f2,#4654e2);color:#fff;display:flex;align-items:center;justify-content:center;font:600 18px/1 system-ui;border:none;cursor:pointer;box-shadow:0 10px 20px rgba(0,0,0,.35);z-index:9999}
    #aiModal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:9998}
    #aiDialog{width:min(960px,96vw);height:min(82vh,920px);background:#0b1220;border-radius:16px;overflow:hidden;border:1px solid #1e2a4a;display:flex;flex-direction:column}
    #aiDialog header{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:#11192e;color:#f4f6fb}
    #aiClose{background:transparent;border:0;color:#fff;font-size:22px;cursor:pointer}
    .ai-body{flex:1;min-height:360px;position:relative}
    .loading{display:flex;align-items:center;justify-content:center;height:100%;color:#a5b4d6}
    @media (max-width:1000px){
      .grid-2{grid-template-columns:1fr}
      .features{grid-template-columns:1fr 1fr}
      .pricing{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <nav>
    <div class="container nav-inner">
      <div class="brand"><div class="logo"></div> NovaMark AI</div>
      <div class="nav-cta">
        <a href="#pricing">Pricing</a>
        <a class="primary js-action" data-action="trial" href="#">Try Free</a>
      </div>
    </div>
  </nav>

  <header class="hero">
    <div class="container grid-2">
      <div>
        <div class="badge">⚡ Launch campaigns 10× faster</div>
        <h1 class="h1">Your 24/7 AI Marketing Co-Pilot</h1>
        <p class="lead">Get strategy, ad copy, budget split, emails, and a 7-day content plan — tailored to your business.</p>
        <div class="hero-ctas">
          <a class="btn primary js-action" data-action="trial" href="#">Start Free (7 days)</a>
          <a class="btn js-action" data-action="scroll" data-url="#how" data-smooth="true" href="#how">See how it works</a>
        </div>
        <div class="meta">Card required · Cancel anytime</div>
      </div>
      <div class="panel hero-card">
        <div class="pill">✅ Strategy builder</div>
        <div class="pill">💬 Ad copy + hooks</div>
        <div class="pill">📅 7-day content plan</div>
        <div class="list">
          <div class="li"><div class="dot"></div>Playbooks for Meta / Google / TikTok.</div>
          <div class="li"><div class="dot"></div>3× ad variants with CTAs.</div>
          <div class="li"><div class="dot"></div>Budget split, KPIs, next actions.</div>
        </div>
      </div>
    </div>
  </header>

  <section id="features">
    <div class="container">
      <h2>Why teams use NovaMark</h2>
      <p class="sub">From solo founders to enterprise — ship campaigns faster with concrete, measurable AI guidance.</p>
      <div class="features">
        <div class="card"><h3>Actionable strategy</h3><p>Step-by-step plans with timing, channels, and KPIs.</p></div>
        <div class="card"><h3>Ad copy that converts</h3><p>Headlines, hooks & CTAs for Meta / Google / TikTok.</p></div>
        <div class="card"><h3>Content calendar</h3><p>7-day posting plan with captions & prompts.</p></div>
      </div>
    </div>
  </section>

  <section id="how">
    <div class="container">
      <h2>How it works</h2>
      <p class="sub">Three steps from idea to launch.</p>
      <div class="features" style="grid-template-columns:repeat(4,1fr)">
        <div class="card"><b>1. Brief</b><br/>Tell the AI your product, audience, and goal.</div>
        <div class="card"><b>2. Plan</b><br/>Get strategy, messaging, and ad ideas instantly.</div>
        <div class="card"><b>3. Build</b><br/>Generate copy, emails, and a 7-day calendar.</div>
        <div class="card"><b>4. Iterate</b><br/>Refine with data and A/B variants.</div>
      </div>
    </div>
  </section>

  <section id="pricing">
    <div class="container">
      <h2>Pricing</h2>
      <p class="sub">Choose the plan that fits your needs. Upgrade/cancel anytime.</p>
      <div class="pricing">
        <div class="price-card">
          <span class="tag">Starter</span>
          <div class="price">$13.99<span style="font-size:14px;color:var(--muted)">/mo</span></div>
          <div class="ul">
            <div class="ok">✓ Basic strategy & 3 ad ideas</div>
            <div class="ok">✓ 7-day content outline</div>
            <div class="no">— No file analysis</div>
          </div>
          <a class="btn primary js-action" data-action="checkout" data-plan="starter" href="#">Choose Starter</a>
        </div>

        <div class="price-card" style="border-color:#6c7cff99;box-shadow:0 10px 40px #6c7cff22">
          <span class="tag">Pro • Most Popular</span>
          <div class="price">$28.99<span style="font-size:14px;color:var(--muted)">/mo</span></div>
          <div class="ul">
            <div class="ok">✓ Full strategy + KPIs</div>
            <div class="ok">✓ 9 ad variants + CTAs</div>
            <div class="ok">✓ Exportable 7-day calendar</div>
            <div class="no">— No team seats</div>
          </div>
          <a class="btn primary js-action" data-action="checkout" data-plan="pro" href="#">Go Pro</a>
        </div>

        <div class="price-card">
          <span class="tag">Premium</span>
          <div class="price">$87.99<span style="font-size:14px;color:var(--muted)">/mo</span></div>
          <div class="ul">
            <div class="ok">✓ Everything in Pro</div>
            <div class="ok">✓ File/CSV analysis</div>
            <div class="ok">✓ Priority responses</div>
            <div class="ok">✓ 3 team seats</div>
          </div>
          <a class="btn primary js-action" data-action="checkout" data-plan="premium" href="#">Upgrade</a>
        </div>
      </div>
      <div class="panel" style="margin-top:18px">
        <div class="meta">7-day trial requires a card. If not cancelled before it ends, it renews to Pro.</div>
      </div>
    </div>
  </section>

  <section id="faq">
    <div class="container">
      <h2>FAQ</h2>
      <div class="faq">
        <details><summary>How do I start?</summary><p>Click “Start Free” for a 7-day trial (card required).</p></details>
        <details><summary>Can I cancel?</summary><p>Yes, anytime from your billing portal before the trial ends.</p></details>
        <details><summary>What’s included?</summary><p>Strategies, ad copy, a 7-day content plan, and KPIs. Premium adds file analysis.</p></details>
      </div>
    </div>
  </section>

  <footer>
    <div class="container foot">
      <div>© <span id="y"></span> NovaMark AI • All rights reserved</div>
      <div>
        <a class="js-action" data-action="scroll" data-url="#pricing" data-smooth="true" href="#pricing">Pricing</a> •
        <a class="js-action" data-action="scroll" data-url="#faq" data-smooth="true" href="#faq">FAQ</a> •
        <a class="js-action" data-action="link" data-url="mailto:hello@yourdomain.com" href="mailto:hello@yourdomain.com">Contact</a>
      </div>
    </div>
  </footer>

  <!-- Chat bubble -->
  <button id="aiBubble" aria-controls="aiModal" aria-expanded="false" aria-label="Open AI helper">💬</button>

  <!-- Chat modal -->
  <div id="aiModal" role="dialog" aria-modal="true" aria-labelledby="aiDialogTitle" style="display:none">
    <div id="aiDialog">
      <header>
        <div id="aiDialogTitle">AI Marketing Advisor</div>
        <button id="aiClose" aria-label="Close chat">×</button>
      </header>
      <div id="aiBody" class="ai-body"><div class="loading">Loading…</div></div>
    </div>
  </div>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    // ===== CONFIG =====
    const CHAT_BASE_URL = 'https://ai-marketing-chat-git-main-ai-chat-projects-projects.vercel.app/'; // change if your chat lives on a subpath
    const CHECK_ACCESS_ENDPOINT = '/api/check-access';

    // ===== Router for clicks =====
    async function startCheckout(plan){
      try{
        const r = await fetch('/api/create-checkout', {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({ plan })
        });
        const { url, error } = await r.json();
        if (url) location.href = url;
        else alert('Checkout error: ' + (error || 'unknown'));
      }catch(e){ alert('Network error'); }
    }
    async function startTrial(){ return startCheckout('pro'); }

    function handleActionClick(e){
      const el = e.currentTarget;
      const action = el.dataset.action;
      const plan   = el.dataset.plan;
      const url    = el.dataset.url;
      const smooth = el.dataset.smooth === 'true';
      if (!action) return;

      e.preventDefault();
      switch(action){
        case 'trial': return startTrial();
        case 'checkout': return plan ? startCheckout(plan) : null;
        case 'link':
          if (!url) return; return (location.href = url);
        case 'scroll':
          if (!url) return;
          const id = url.startsWith('#') ? url : '#' + url;
          const node = document.querySelector(id);
          if (node) node.scrollIntoView({ behavior: smooth ? 'smooth' : 'auto', block: 'start' });
          return;
      }
    }
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.js-action').forEach(btn => btn.addEventListener('click', handleActionClick));
    });

    // ===== Chat bubble / modal with access check =====
    (function(){
      const bubble = document.getElementById('aiBubble');
      const modal  = document.getElementById('aiModal');
      const close  = document.getElementById('aiClose');

      function getPageContext(){
        const title = document.title || '';
        const href  = location.href;
        const meta  = document.querySelector('meta[name="description"]');
        const description = meta ? meta.content : '';
        const selection = (window.getSelection && String(window.getSelection())) || '';
        const h1 = (document.querySelector('h1') && document.querySelector('h1').innerText) || '';
        return { title, href, description, selection, h1, ts: Date.now() };
      }
      function encodeContext(ctx){
        try { return btoa(unescape(encodeURIComponent(JSON.stringify(ctx)))); }
        catch { return ''; }
      }
      async function userHasAccess(){
        try{
          const resp = await fetch(CHECK_ACCESS_ENDPOINT, { credentials: 'include' });
          if(!resp.ok) return false;
          const data = await resp.json();
          return !!data.hasAccess;
        }catch{ return false; }
      }
      function renderIframe(container, src){
        const iframe = document.createElement('iframe');
        iframe.id = 'aiFrame';
        iframe.src = src;
        iframe.loading = 'lazy';
        iframe.referrerPolicy = 'no-referrer';
        iframe.title = 'AI Marketing Chat';
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.style.border = '0';
        iframe.setAttribute('allow', 'clipboard-write; microphone; camera');
        iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin allow-popups allow-forms');
        container.innerHTML = '';
        container.appendChild(iframe);
      }
      function renderPaywall(container){
        container.innerHTML = `
          <div class="panel" style="height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:12px">
            <h3 style="margin:0">Premium Access</h3>
            <p style="color:#a5b4d6;margin:0">Purchase a plan to use the AI assistant.</p>
            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <a class="btn primary js-action" data-action="scroll" data-url="#pricing" data-smooth="true" href="#pricing">See Plans</a>
            </div>
          </div>
        `;
      }
      async function initChatBody(){
        const container = document.getElementById('aiBody');
        container.innerHTML = '<div class="loading">Checking access…</div>';
        const has = await userHasAccess();
        if(!has){ renderPaywall(container); return; }
        const ctx = getPageContext();
        const encoded = encodeContext(ctx);
        const glue = CHAT_BASE_URL.includes('?') ? '&' : '?';
        const src = `${CHAT_BASE_URL}${glue}context=${encoded}`;
        renderIframe(container, src);
      }
      function openChat(){
        modal.style.display = 'flex';
        close.focus({preventScroll:true});
        initChatBody();
      }
      function closeChat(){
        modal.style.display = 'none';
      }
      bubble.addEventListener('click', openChat);
      close.addEventListener('click', closeChat);
      modal.addEventListener('click', e => { if (e.target === modal) closeChat(); });
      window.addEventListener('keydown', e => { if (e.key === 'Escape' && modal.style.display === 'flex') closeChat(); });
    })();
  </script>

  <noscript>Please enable JavaScript to use the AI assistant.</noscript>
</body>
</html>


